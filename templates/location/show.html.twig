{% extends 'base.html.twig' %}

{% block title %}📍 Détails de la Location{% endblock %}

{% block body %}
<div class="container">
    <h1 class="mt-4 text-center">📍 Détails de la Location</h1>

    <div class="card shadow-sm p-4 mt-4">
        <table class="table table-striped">
            <tbody>
                <tr>
                    <th>ID</th>
                    <td>#{{ location.id }}</td>
                </tr>
                <tr>
                    <th>📍 Terrain associé</th>
                    <td>{{ location.terrain ? location.terrain.localisation : '❌ Non spécifié' }}</td>
                </tr>
                <tr>
                    <th>📅 Date de début</th>
                    <td>{{ location.dateDebut ? location.dateDebut|date('d/m/Y') : '❌ Non spécifié' }}</td>
                </tr>
                <tr>
                    <th>📅 Date de fin</th>
                    <td>{{ location.dateFin ? location.dateFin|date('d/m/Y') : '❌ Non spécifié' }}</td>
                </tr>
                <tr>
                    <th>💰 Prix de location</th>
                    <td><strong>{{ location.prixLocation is not null ? location.prixLocation|number_format(2, ',', ' ') ~ ' €' : '❌ Non spécifié' }}</strong></td>
                </tr>
                <tr>
                    <th>💳 Paiement effectué</th>
                    <td>
                        {% if location.paiementEffectue %}
                            <span class="badge bg-success">✔ Oui</span>
                        {% else %}
                            <span class="badge bg-danger">✘ Non</span>
                        {% endif %}
                    </td>
                </tr>
                <tr>
                    <th>💵 Mode de paiement</th>
                    <td>
                        {% if location.modePaiement == 'cash' %}
                            💵 Espèces
                        {% elseif location.modePaiement == 'bank_transfer' %}
                            🏦 Virement Bancaire
                        {% elseif location.modePaiement == 'credit_card' %}
                            💳 Carte de Crédit
                        {% else %}
                            ❌ Non spécifié
                        {% endif %}
                    </td>
                </tr>
                <tr>
                    <th>📌 Statut</th>
                    <td>
                        {% if location.statut == 'confirmed' %}
                            <span class="badge bg-success">✅ Confirmée</span>
                        {% elseif location.statut == 'pending' %}
                            <span class="badge bg-warning">⏳ En attente</span>
                        {% elseif location.statut == 'canceled' %}
                            <span class="badge bg-danger">❌ Annulée</span>
                        {% else %}
                            <span class="badge bg-secondary">❓ Inconnu</span>
                        {% endif %}
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Buttons Section -->
    <div class="mt-4 d-flex justify-content-between">
        <a href="{{ path('location_index') }}" class="btn btn-secondary">
            ⬅ Retour à la liste
        </a>
        <div>
            <a href="{{ path('location_edit', {'id': location.id}) }}" class="btn btn-warning">
                ✏ Modifier
            </a>
            <a href="{{ path('location_pdf', {'id': location.id}) }}" class="btn btn-danger">
                📄 Télécharger PDF
            </a>
        </div>
    </div>
</div>
{% endblock %}
